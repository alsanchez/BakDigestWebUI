<!DOCTYPE html>
<html ng-app="BakDigestWebUIApp">
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" src="/bower_components/angular/angular.min.js"></script>
    <script type="text/javascript"
            src="/bower_components/angular-ui-bootstrap/dist/ui-bootstrap-tpls-0.11.0.min.js"></script>
    <script type="text/javascript" src="/js/backup.js"></script>
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="bower_components/fontawesome/css/font-awesome.min.css" />
</head>
<body>
<tabset>

    <tab heading="Backups" ng-controller="BackupsController">

        <ul>
            <li ng-repeat="backup in backups">
                {{backup.name}}
                <button ng-click="remove(backup.id)">Delete</button>
            </li>
        </ul>

        <form>
            <label for="name">
                Backup name:
                <input id="name" type="text" ng-model="name">
            </label>
            <label for="frequency">
                Backup frequency:
                <input id="frequency" type="text" ng-model="frequency">
            </label>

            <button ng-click="save()">Save</button>
        </form>
    </tab>

    <tab heading="Digests" ng-controller="DigestsController">

        <ul>
            <li ng-repeat="digest in digests">
                {{digest.email}}
                <button ng-click="remove(digest.id)">Delete</button>
            </li>
        </ul>

        <div class="row">

            <form role="form" class="col-xs-8 col-xs-offset-2">

                <fieldset>

                    <legend>Add a new digest</legend>

                    <div class="form-group">
                        <label for="email">Email address</label>
                        <input id="email" type="email" class="form-control" ng-model="email" placeholder="Enter email">
                    </div>

                    <div class="form-group">
                        <label for="start_date">Start date</label>
                        <div class="input-group">

                            <input
                                    id="start_date"
                                    class="form-control"
                                    type="text"
                                    ng-model="start_date"
                                    is-open="opened"
                                    datepicker-popup="yyyy-MM-dd"
                                    >

                            <span class="input-group-btn">

                                <button
                                        type="button"
                                        class="btn btn-default"
                                        ng-click="open($event)">

                                            <i class="fa fa-calendar"></i>

                                </button>

                            </span>

                        </div>
                    </div>

                    <div class="form-group">
                        <label for="periodicity">Periodicity</label>
                        <input id="periodicity" type="number" ng-model="periodicity" class="form-control">
                    </div>

                    <div class="form-group">
                        <label>Backups</label>
                        <div class="checkbox" ng-repeat="backup in backups">
                            <label>
                                <input
                                        type="checkbox"
                                        name="backup_ids"
                                        value="{{backup.id}}"
                                        ng-model="backup_ids"
                                        ng-click="toggleSelection(backup.id)"
                                        > {{backup.name}}
                            </label>
                        </div>
                    </div>

                    <button ng-click="save()" class="btn btn-default">Save</button>

                </fieldset>

            </form>

        </div>

    </tab>

</tabset>
</body>
</html>